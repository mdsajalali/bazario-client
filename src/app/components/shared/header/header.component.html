<header class="header">
  <div class="container wrapper">
    <div class="logo" routerLink="/">Bazario</div>

    <nav class="nav">
      <ul class="nav__items">
        <li>
          <a
            routerLink="/"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
            >Home</a
          >
        </li>
        <li><a routerLink="/shop" routerLinkActive="active">Shop</a></li>
        <li><a routerLink="/about" routerLinkActive="active">About</a></li>
        <li><a routerLink="/contact" routerLinkActive="active">Contact</a></li>
        <li><a routerLink="/blogs" routerLinkActive="active">Blogs</a></li>
        @if (isAdmin) {
        <li><a routerLink="/dashboard">Dashboard</a></li>
        }
      </ul>
    </nav>

    <div class="d-flex align-items-center gap-2">
      <div
        class="icon-group d-flex align-items-center gap-3 position-relative pe-4"
      >
        <a routerLink="/cart" class="icon-wrapper position-relative">
          <i class="pi pi-shopping-cart fs-5 text-dark"></i>
          <span class="badge">{{ cartCount }}</span>
        </a>

        <a routerLink="/wishlist" class="icon-wrapper position-relative">
          <i class="pi pi-heart fs-5 text-dark"></i>
          <span class="badge">{{ wishlistLength }}</span>
        </a>

        <div class="icon-wrapper position-relative" (click)="toggleSearch()">
          <i class="pi pi-search fs-5 text-dark cursor-pointer"></i>
        </div>

        @if (isSearchOpen) {
        <div
          class="search-popup position-absolute top-100 end-0 mt-2 p-3 shadow rounded bg-white"
        >
          <div class="d-flex align-items-center gap-2">
            <input
              type="search"
              class="form-control"
              placeholder="Search products..."
              [(ngModel)]="searchValue"
              (keydown.enter)="onSearchEnter()"
            />
            <button
              class="btn btn-sm btn-outline-secondary"
              (click)="toggleSearch()"
            >
              <i class="pi pi-times"></i>
            </button>
          </div>
        </div>
        }
      </div>

      @if (isLoggedIn) {
      <div class="login-btn" (click)="logout()">Logout</div>
      } @else {
      <a class="login-btn" routerLink="/login">Login</a>
      <a class="login-btn" routerLink="/register">Register</a>
      }
    </div>
  </div>
</header>

<nav class="mobile-bottom-nav d-md-none">
  <a
    routerLink="/"
    routerLinkActive="active"
    [routerLinkActiveOptions]="{ exact: true }"
  >
    <i class="pi pi-home"></i>
    <span>Home</span>
  </a>
  <a routerLink="/shop" routerLinkActive="active">
    <i class="pi pi-shopping-bag"></i>
    <span>Shop</span>
  </a>
  <a routerLink="/blogs" routerLinkActive="active">
    <i class="pi pi-book"></i>
    <span>Blogs</span>
  </a>
  <a routerLink="/contact" routerLinkActive="active">
    <i class="pi pi-envelope"></i>
    <span>Contact</span>
  </a>
  @if (isAdmin) {
  <a routerLink="/dashboard" routerLinkActive="active">
    <i class="pi pi-th-large"></i>
    <span>Dashboard</span>
  </a>
  }
</nav>
