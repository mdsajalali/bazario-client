<header class="header">
  <div class="container wrapper">
    <div class="logo" routerLink="/">Bazario</div>

    <nav class="nav" [class.active]="isMenuOpen">
      <ul class="nav__items">
        <li><a routerLink="/">Home</a></li>
        <li><a routerLink="/shop">Shop</a></li>
        <li><a routerLink="/categories">Categories</a></li>
        <li><a routerLink="/about">About</a></li>
        <li><a routerLink="/contact">Contact</a></li>
        <li><a routerLink="/blogs">Blogs</a></li>
        <li><a routerLink="/dashboard">Dashboard</a></li>
      </ul>
    </nav>

    <div class="d-flex align-items-center gap-2">
      <div
        class="icon-group d-flex align-items-center gap-3 position-relative pe-4"
      >
        <a routerLink="/cart" class="icon-wrapper position-relative">
          <i class="pi pi-shopping-cart fs-5 text-dark"></i>
          <span class="badge">0</span>
        </a>

        <a routerLink="/wishlist" class="icon-wrapper position-relative">
          <i class="pi pi-heart fs-5 text-dark"></i>
          <span class="badge">{{wishlistLength}}</span>
        </a>

        <div class="icon-wrapper position-relative" (click)="toggleSearch()">
          <i class="pi pi-search fs-5 text-dark cursor-pointer"></i>
        </div>

        @if(isSearchOpen){
        <div
          class="search-popup position-absolute top-100 end-0 mt-2 p-3 shadow rounded bg-white"
        >
          <div class="d-flex align-items-center gap-2">
            <input
              type="search"
              class="form-control"
              placeholder="Search products..."
              [(ngModel)]="searchValue"
              (keydown.enter)="onSearchEnter()"
            />

            <button
              class="btn btn-sm btn-outline-secondary"
              (click)="toggleSearch()"
            >
              <i class="pi pi-times"></i>
            </button>
          </div>
        </div>
        }
      </div>

      @if (isLoggedIn) {
      <div class="login-btn" (click)="logout()">Logout</div>

      }@else {
      <a class="login-btn" routerLink="/login">Login</a>
      <a class="login-btn" routerLink="/register">Register</a>
      }
    </div>

    <div class="menu-toggle" (click)="toggleMenu()">
      @if(isMenuOpen){
      <div>
        <i class="pi pi-bars"></i>
      </div>
      }@else {
      <div>
        <i class="pi pi-times"></i>
      </div>
      }
    </div>
  </div>
</header>
